@model KulturAtlasi.Models.ProfilDuzenleViewModel

<div class="modal-header border-0 pb-0">
    <h5 class="modal-title fw-bold">Profili Düzenle</h5>
    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
</div>

<div class="modal-body">
    <form id="profilForm" enctype="multipart/form-data">

        <div class="text-center mb-4">
            <img src="@(Model.MevcutResim ?? "https://placehold.co/100")" class="rounded-circle shadow-sm border" width="100" height="100" style="object-fit:cover;" id="imgOnizleme">
            <div class="mt-2">
                <label class="btn btn-sm btn-outline-primary rounded-pill cursor-pointer">
                    <i class="bi bi-camera"></i> Fotoğrafı Değiştir
                    <input type="file" name="ProfilResmi" style="display: none;" onchange="resimOnizle(this)">
                </label>
            </div>
        </div>

        <div class="row g-3">
            <div class="col-md-6">
                <label class="small text-muted fw-bold">Ad</label>
                <input type="text" name="Ad" class="form-control" value="@Model.Ad" required>
            </div>
            <div class="col-md-6">
                <label class="small text-muted fw-bold">Soyad</label>
                <input type="text" name="Soyad" class="form-control" value="@Model.Soyad" required>
            </div>
            <div class="col-md-6">
                <label class="small text-muted fw-bold">Meslek</label>
                <input type="text" name="Meslek" class="form-control" value="@Model.Meslek">
            </div>
            <div class="col-md-6">
                <label class="small text-muted fw-bold">Şehir</label>
                <input type="text" name="Sehir" class="form-control" value="@Model.Sehir">
            </div>
            <div class="col-12">
                <label class="small text-muted fw-bold">Biyografi</label>
                <textarea name="Hakkimda" class="form-control" rows="3">@Model.Hakkimda</textarea>
            </div>
        </div>
    </form>
</div>

<div class="modal-footer border-0 pt-0">
    <button type="button" class="btn btn-light rounded-pill" data-bs-dismiss="modal">İptal</button>
    <button type="button" class="btn btn-primary rounded-pill px-4" onclick="profiliKaydet()">Kaydet</button>
</div>

<script>
    function resimOnizle(input) {
        if (input.files && input.files[0]) {
            var reader = new FileReader();
            reader.onload = function (e) {
                document.getElementById('imgOnizleme').src = e.target.result;
            }
            reader.readAsDataURL(input.files[0]);
        }
    }
</script>